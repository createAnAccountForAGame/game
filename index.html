<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <title>合成丸啵</title>

    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1, minimum-scale=1,maximum-scale=1"/>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">

    <!-- force webkit on 360 -->
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <!-- force edge on IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="msapplication-tap-highlight" content="no">

    <!-- force full screen on some browser -->
    <meta name="full-screen" content="yes"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="360-fullscreen" content="true"/>

    <!-- force screen orientation on some browser -->
    <meta name="screen-orientation" content=""/>
    <meta name="x5-orientation" content="">

    <!--fix fireball/issues/3568 -->
    <meta name="x5-page-mode" content="app">

    <link rel="stylesheet" type="text/css" href="/style-mobile.css"/>
    <script src="https://lib.baomitu.com/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/layer/3.0.1/layer.min.js"></script>
    <link href="https://cdn.bootcss.com/layer/3.0.1/skin/default/layer.css" rel="stylesheet">
</head>

<body style="margin: 0; background: #ddd;" align="center">
<div style="align:center;display: none"><img src="res/share.jpg" width="10%"/></div>

<div id="canvasDiv" style="width:100%;height:100%;">
    <canvas id="GameCanvas" oncontextmenu="event.preventDefault()" tabindex="0"></canvas>
    <div id="block-Box" style="display:block;width:100%;height:100%;"></div>
</div>

<!--    <div id="adContainer" style="display:none;position: absolute;top:0px;left: 0px;width:100%;height:100%;z-index:999;"></div>-->
<div id="loadingText"
     style="width:100%;display: none;text-align:center;position:absolute;top:45%;z-index:2;font-size:20px;color:#f99f0a">
    loading......0%
</div>

<div id="splash">
    <!-- <div class="progress-bar stripes"> -->
    <!-- <span style="width: 0%"></span> -->
    <!-- </div> -->
</div>

<div id="loadingImg" style="top:45%;width: 100%;position:absolute; ">
    <img src="/res/loading.gif" width="7%" height="7%"/>
</div>

<!--<div align="center" style="font-size: 10px;color: dimgrey">advertisement</div>-->

<script type="text/javascript" src="ads.js"></script>

<script type="text/javascript">
    var preloader;
    var adCompleteFlag = false;
    var resCompleteFlag = false;

    var adEndComplete = false;
    var resEndComplete = false;

    judgeLanTitle();

    function judgeLanTitle() {
        if (window.navigator.language == "zh-CN" || window.navigator.language == "zh-cn") {
            document.title = "合成丸啵";
        } else {
            document.title = "Synthetic YIBO";
        }
    }

    if (true) {
        window.difficulty = [0, 5];
        multiplescore = 1;
        function changeDifficulty(ele, diff) {
            $('[name=difficulty]').css('background-color', '');
            $(ele).css('background-color', '#1E9FFF');
            window.difficulty = diff;
        }
        function multipleScore(ele, diff) {
            $('[name=fanbei]').css('background-color', '');
            $(ele).css('background-color', '#1E9FFF');
            multiplescore = diff;
        }
    }

/*     layer.open({
       type: 1
       , title: false //不显示标题栏
       , closeBtn: false
       , area: '300px;'
       , shade: 0.8
       , id: 'layer2' //设定一个id，防止重复弹出
       , resize: false
       , btn: ['开始游戏']
       , btnAlign: 'c'
       , shadeClose: true //开启遮罩关闭
       , moveType: 1 //拖拽模式，0或者1
       , content:'<img src="https://wx3.sinaimg.cn/mw690/005TGEyHly1gnisikqkcyj30u00u07ch.jpg" width="100%">',
          // `<div style="padding: 10px;text-align:center; line-height: 5px; background-color: #99cccc; color: #fff;">
          //    <h4>合成系列</h4>
          //    <button onclick="window.location.href='https://synthetic-smart-pig.vercel.app/'">合成聪明蛋</button><br>
          //  </div>`
       success: function (layero) {
       }
     });*/

    layer.open({
        type: 1,
        title: false,
        closeBtn: 0,
        area: '300px;',
        skin: 'layui-layer-nobg', //没有背景色
        shadeClose: true,
        content: '<img src="https://wx3.sinaimg.cn/mw690/005TGEyHly1gnisikqkcyj30u00u07ch.jpg" alt="祝您新年快乐！" width="100%">'
    });

    var loadintT = document.getElementById("loadingText");
    var loadintGif = document.getElementById("loadingImg")
    setTimeout(function () {
        loadintGif.remove();
        loadintT.style.display = ""
        updateLabView(0.1);
    }, 1 * 1000)

    window.timer = null;
    window.tempSeconds = 1;
    window.loadData = {};
    loadData.completedCount = 0;
    loadData.totalCount = 0;

    onload();

    function onload() {
        var winHeight = document.documentElement.clientHeight;
        document.getElementById("canvasDiv").style.height = winHeight + "px";
    };
    window.onload = function () {
        document.getElementById("block-Box").style.display = "none";
    }

    function updateLabView(t) {
        if (timer != null) {
            clearInterval(timer);
        }
        timer = setInterval(function () {
            tempSeconds++;
            actualTotal();
            var loadintT = document.getElementById("loadingText")
            if (!loadintT) {
                return;
            }
            loadintT.innerHTML = 'loading......' + parseInt(tempSeconds) + '%';

            switch (tempSeconds) {
                case 20:
                    updateLabView(0.2);
                    break;
                case 40:
                    updateLabView(0.3);
                    break;
                case 60:
                    updateLabView(0.4);
                    break;
                case 96:
                    updateLabView(5);
                    break;
                case 97:
                    updateLabView(10);
                    break;
                case 98:
                    updateLabView(50);
                    break;
                case 99:
                    updateLabView(100);
                    break;
                default:
                    if (tempSeconds >= 80 && tempSeconds < 96) {
                        updateLabView(t + 0.1);
                    }
                    break;
            }
            if (tempSeconds > 100) {
                clearInterval(timer);
                tempSeconds = 100
                loadintT.innerHTML = 'loading......' + parseInt(tempSeconds) + '%';
            }
        }, t * 1000);
    }

    function actualTotal() {
        var percent = parseInt(100 * loadData.completedCount / loadData.totalCount);
        if (percent > tempSeconds && loadData.totalCount > 1) {
            tempSeconds = percent;
        }
    }

</script>


<script src="https://cdn.jsdelivr.net/gh/xiaopengand/daxigua@master/src/settings.js" charset="utf-8"></script>

<script src="https://cdn.jsdelivr.net/gh/xiaopengand/daxigua@master/main.js" charset="utf-8"></script>

<script>
    window.adsbygoogle = window.adsbygoogle || [];
    const adBreak = function (o) {
        adsbygoogle.push(o);
    }
</script>


<script type="text/javascript">
    (function () {
        // open web debugger console
        if (typeof VConsole !== 'undefined') {
            window.vConsole = new VConsole();
        }

        var splash = document.getElementById('splash');
        splash.style.display = 'block';

        var cocos2d = document.createElement('script');
        cocos2d.async = true;
        cocos2d.src = window._CCSettings.debug ? 'cocos2d-js.js' : 'https://cdn.jsdelivr.net/gh/xiaopengand/daxigua@master/cocos2d-js-min.js';

        var engineLoaded = function () {
            document.body.removeChild(cocos2d);
            cocos2d.removeEventListener('load', engineLoaded, false);
            window.boot();
        };
        cocos2d.addEventListener('load', engineLoaded, false);
        document.body.appendChild(cocos2d);
    })();
</script>


</body>

</html>
